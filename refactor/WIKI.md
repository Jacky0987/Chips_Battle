# 芯片战争 (Chips Battle) - JackyCoin 股票交易模拟器终极维基

欢迎来到《芯片战争》的终极维基！本维基旨在为玩家、管理员和开发者提供一个全面、详尽的指南，涵盖了从入门到精通、从基础操作到深层经济学原理的所有内容。

**声明**: 本项目原名为"JackyCoin 股票交易模拟器"，文件目录名为"Chips_Battle"。为了方便，本维基将融合这两个名称。

---

## 目录

*   [第一章：游戏简介](#第一章游戏简介)
    *   [1.1. 欢迎来到"芯片战争"的世界](#11-欢迎来到芯片战争的世界)
    *   [1.2. 背景故事：巨头们的数字战场](#12-背景故事巨头们的数字战场)
    *   [1.3. 核心玩法概览](#13-核心玩法概览)
    *   [1.4. 经济学原理简介](#14-经济学原理简介)
*   [第二章：新手入门](#第二章新手入门)
    *   [2.1. 系统要求](#21-系统要求)
    *   [2.2. 安装与启动](#22-安装与启动)
    *   [2.3. 账户注册与登录](#23-账户注册与登录)
    *   [2.4. 主界面与基本指令](#24-主界面与基本指令)
*   [第三章：核心系统详解](#第三章核心系统详解)
    *   [3.1. 货币系统：JackyCoin (JCK/JCD)](#31-货币系统jackycoin-jckjcd)
    *   [3.2. 成就与等级系统](#32-成就与等级系统)
    *   [3.3. 交易引擎：市场的脉搏](#33-交易引擎市场的脉搏)
*   [第四章：商品帝国：大宗商品交易](#第四章商品帝国大宗商品交易)
    *   [4.1. 市场概览与核心机制](#41-市场概览与核心机制)
    *   [4.2. 外汇市场 (Forex)](#42-外汇市场-forex)
    *   [4.3. 期货市场 (Futures)](#43-期货市场-futures)
    *   [4.4. 现货市场 (Spot)](#44-现货市场-spot)
    *   [4.5. 交易指令详解](#45-交易指令详解)
*   [第五章：企业王朝：公司经营与股票](#第五章企业王朝公司经营与股票)
    *   [5.1. 创立你的第一家公司](#51-创立你的第一家公司)
    *   [5.2. 公司类型与发展阶段](#52-公司类型与发展阶段)
    *   [5.3. 公司运营深度解析](#53-公司运营深度解析)
    *   [5.4. 公司股票与市场](#54-公司股票与市场)
*   [第六章：金融中枢：银行与信贷](#第六章金融中枢银行与信贷)
    *   [6.1. 银行账户与服务](#61-银行账户与服务)
    *   [6.2. 存款业务：让钱生钱](#62-存款业务让钱生钱)
    *   [6.3. 贷款业务：机遇的杠杆](#63-贷款业务机遇的杠杆)
    *   [6.4. 信用评级系统](#64-信用评级系统)
    *   [6.5. 银行任务系统](#65-银行任务系统)
*   [第七章：应用生态：工具与娱乐](#第七章应用生态工具与娱乐)
    *   [7.1. 应用市场 (App Market)](#71-应用市场-app-market)
    *   [7.2. 分析工具类应用](#72-分析工具类应用)
    *   [7.3. 娱乐城应用](#73-娱乐城应用)
*   [第八章：管理员指南](#第八章管理员指南)
    *   [8.1. 管理员权限](#81-管理员权限)
    *   [8.2. 用户管理](#82-用户管理)
    *   [8.3. 市场管理](#83-市场管理)
*   [第九章：经济学原理与游戏逻辑](#第九章经济学原理与游戏逻辑)
    *   [9.1. 价格波动模型](#91-价格波动模型)
    *   [9.2. 供需关系](#92-供需关系)
    *   [9.3. 游戏内通货膨胀与紧缩](#93-游戏内通货膨胀与紧缩)
*   [第十章：未来开发路线图](#第十章未来开发路线图)
    *   [10.1. 已规划功能](#101-已规划功能)
    *   [10.2. 社区建议功能](#102-社区建议功能)

---

## 第一章：游戏简介

### 1.1. 欢迎来到"芯片战争"的世界

《芯片战争》是一个融合了股票交易、公司经营、大宗商品投资和策略博弈的综合性经济模拟器。在这里，你将扮演一位在数字经济时代浪潮中寻求机遇的投资者。你将使用游戏内的通用货币 **JackyCoin (JCK)**，在一个高度模拟、无真实风险的市场环境中，体验从零开始建立商业帝国的全过程。

无论您是希望学习金融知识的初学者，还是寻求策略挑战的资深玩家，这里都将是您展现才华的舞台。

### 1.2. 背景故事：巨头们的数字战场

在不远的未来，随着科技的飞速发展，全球经济已经高度数字化。一种名为 JackyCoin (JCK) 的加密货币成为了跨越国界、连接虚拟与现实的硬通货。而"芯片"，作为支撑这个数字时代的核心，其生产、研发和应用成为了各国、各大财团争夺的焦点。

玩家将置身于这场没有硝烟的"芯片战争"中。你或许可以通过在二级市场精准的股票和商品交易积累原始资本；或许可以创立自己的科技公司，从一家小型芯片设计室做起，一步步发展为研发、生产、销售一体的科技巨头；你还可以通过银行系统，利用金融杠杆撬动更大的未来。

你的每一个决策，都可能在这个数字世界中掀起波澜。

### 1.3. 核心玩法概览

*   **真实交易体验**: 模拟真实股票市场的价格波动、多种订单类型和交易机制。
*   **庞大的大宗商品市场**: 全新加入的外汇、期货、现货交易系统，支持超过50个交易品种，并引入杠杆机制。
*   **深度的公司经营**: 从零开始创建和管理你的公司，涉及研发、生产、财务、人事等多个方面，最终可以推动公司上市。
*   **完善的银行金融服务**: 完整的银行系统，支持存款、贷款、动态信用评级和任务合约。
*   **丰富的应用生态**: 内置"应用市场"，提供从高级图表、AI分析到德州扑克、21点等多种分析工具和娱乐游戏。
*   **成就与激励**: 设计了数百个成就，覆盖游戏各个方面，激励玩家不断探索和挑战。

### 1.4. 经济学原理简介

游戏经济系统的设计参考了多种现实经济学理论，旨在创造一个动态且相对平衡的虚拟世界：

*   **价格发现机制**: 商品和股票的价格由市场参与者的买卖行为共同决定，并受到模拟的宏观经济事件、公司新闻等因素影响。
*   **货币供给与需求**: 游戏中的 JCK 总量受到银行系统（贷款与存款）、任务奖励、交易成本等多种因素的调节，模拟了中央银行的部分职能，以控制通货膨胀。
*   **风险与回报**: 高回报的投资往往伴随着高风险，如高杠杆的外汇交易、初创公司的股权投资等。游戏鼓励玩家学习风险管理。
*   **比较优势**: 不同的公司类型、不同的商品在不同的市场环境下具有各自的优势，玩家需要根据宏观环境做出策略调整。

---

## 第二章：新手入门

### 2.1. 系统要求

*   **操作系统**: Windows 10/11, macOS 10.14+, 或主流 Linux 发行版。
*   **Python 版本**: 3.8 或更高版本。
*   **核心依赖库**:
    *   `tkinter`: Python 内置图形库。
    *   `cryptography`: 用于数据加密。
*   **可选依赖库** (用于增强功能):
    *   `matplotlib`: 用于绘制高级分析图表。
    *   `numpy`: 用于高性能科学计算和数据分析。

### 2.2. 安装与启动

1.  **克隆项目代码**
    ```bash
    # 建议使用 Git 克隆以方便未来更新
    git clone https://github.com/your-username/stock-trading-simulator.git
    cd stock-trading-simulator
    ```

2.  **安装依赖库**
    ```bash
    # 使用 pip 安装 requirements.txt 文件中列出的所有库
    pip install -r requirements.txt
    ```

3.  **运行游戏**
    ```bash
    python main.py
    ```
    执行该命令后，您将看到游戏的登录/注册窗口。

### 2.3. 账户注册与登录

*   **首次运行**: 当您第一次启动游戏时，会看到一个登录界面。
*   **注册**: 点击"注册 (Register)"按钮，您需要提供一个用户名和密码。请注意，密码将经过加密存储，保证账户安全。
    *   *代码逻辑参考: `user_manager.py` 中的 `create_user` 函数负责处理新用户创建，使用 `cryptography` 库对密码进行哈希处理。*
*   **登录**: 使用您注册的用户名和密码即可登录游戏。系统会验证您的凭据。

### 2.4. 主界面与基本指令

游戏支持 **命令行 (CLI)** 和 **图形用户界面 (GUI)** 两种操作模式。对于核心玩家和开发者，命令行提供了更高效的操作方式。

以下是一些最基础的命令行指令，让您快速上手：

| 指令 | 功能描述 | 示例 |
| :--- | :--- | :--- |
| `help` | 显示所有可用指令及其简介 | `help` |
| `balance` / `bal` | 查看您当前的 JCK 账户余额 | `balance` |
| `list` | 查看当前市场上所有可交易的股票列表 | `list` |
| `portfolio` / `port` | 查看您当前持有的所有资产，包括股票、商品等 | `portfolio` |
| `history` | 查看您的交易历史记录 | `history` |
| `buy <股票代码> <数量>` | 以市价单买入指定数量的股票 | `buy AAPL 10` |
| `sell <股票代码> <数量>` | 卖出您持有的指定数量的股票 | `sell AAPL 5` |
| `exit` / `quit` | 退出游戏 | `exit` |

*更高级的指令和功能将在后续章节中详细介绍。*

---

## 第三章：核心系统详解

本章将深入剖析构成《芯片战争》世界的三大基石：货币系统、成就与等级系统，以及驱动所有交易的交易引擎。理解这些核心系统，是您从新手走向投资大师的关键一步。

### 3.1. 货币系统：JackyCoin (JCK/JCD)

游戏内的经济活动都围绕着其核心货币展开。虽然在游戏中您可能会看到 JCK (JackyCoin) 和 JCD (JackyCoin Dollar) 两种缩写，但它们指向的是同一种基础货币。为保持与代码实现的一致性，本维基将主要使用 **JCD**。

#### 3.1.1. 基础货币与真实世界货币

*   **基础货币 (JCD)**: JCD 是游戏世界中的通用货币，所有资产的计价、交易的结算、任务的奖励都使用 JCD。它的设计目标是成为一个相对稳定的价值尺度。
*   **多货币体系**: 除了 JCD，系统中还内置了多种真实世界的货币，如美元(USD)、欧元(EUR)、人民币(CNY)等。这些货币本身不能直接用于购买游戏内资产，但它们在外汇市场中作为可交易的金融产品存在。
*   **汇率**: JCD 与其他货币之间存在汇率。这个汇率不是固定的，而是会根据每种货币自身的波动率 (`volatility`) 设定，进行小幅的、符合高斯分布的随机波动。

    *   *代码逻辑参考: `core/currency_system.py` -> `Currency` 类中的 `update_rate` 方法。汇率更新公式为 `new_rate = current_rate * (1 + random.gauss(0, volatility))`，确保了汇率变化的真实感。*

#### 3.1.2. 货币的创造与流通

游戏中的 JCD 并非无限供给，其总量受到严格的控制，以模拟真实的宏观经济环境。货币的主要来源（创造）与消耗（销毁）途径如下：

*   **货币创造 (来源)**:
    *   **初始资本**: 新玩家注册时会获得一笔初始资金。
    *   **任务/合约奖励**: 完成银行发布的任务或合约。
    *   **成就奖励**: 解锁特定成就。
    *   **等级提升奖励**: 每次提升等级。
    *   **贷款**: 从银行获得贷款。
    *   **交易盈利**: 在股票或商品交易中获利。
    *   **连续登录奖励**: 每日登录的奖励。
*   **货币销毁 (消耗)**:
    *   **交易成本**: 每次交易都会产生一笔手续费。
    *   **交易亏损**: 在市场上的投资损失。
    *   **偿还贷款与利息**: 向银行归还贷款本金和产生的利息。
    *   **购买应用**: 在应用市场购买付费应用。

这种动态的供需调节机制，使得游戏内的通货膨胀和紧缩成为可能，玩家需要时刻关注市场的流动性状况。

### 3.2. 成就与等级系统

为了激励玩家深度探索游戏内容，并为玩家提供明确的成长路径，游戏内置了一套详尽的成就与等级系统。

#### 3.2.1. 成就系统

成就系统是对玩家在游戏中达成的特定里程碑的嘉奖。

*   **多维度的成就类别**:
    *   **交易类**: 完成首次交易、累计交易次数达到10次、50次、200次等。
    *   **盈利类**: 累计利润达到1万、10万、50万等。
    *   **财富类**: 总资产达到100万（百万富翁）、1000万。
    *   **策略类**: 首次使用止损/止盈、累计使用次数、成功做空等。
    *   **银行类**: 首次使用银行、成功按时还款、累计存款达到一定数额。
    *   **连续登录**: 连续登录5天、15天、30天。
    *   **隐藏成就**: 在特定时间（如凌晨）完成交易可解锁"夜猫子"或"早起的鸟儿"等隐藏成就。
*   **解锁与奖励**: 当玩家的行为满足某个成就的解锁条件时，系统会自动解锁该成就，并立即发放 **JCD 现金** 和 **经验值** 双重奖励。
*   **进度追踪**: 对于未完成的成就，玩家可以随时查看当前的完成进度百分比，方便设定下一个目标。

    *   *代码逻辑参考: `core/achievement_system.py` -> `check_achievements` 和 `get_achievement_progress` 方法。*

#### 3.2.2. 等级系统

等级是玩家综合实力的体现，通过积累经验值来提升。

*   **经验值 (EXP)**: 经验值的主要来源是解锁成就。每个成就都会奖励数量不等的经验值。部分交易行为（如买卖股票）也会奖励少量经验值。
*   **升级公式**: 等级提升所需经验值的计算公式非常直观：
    \[ \text{升级所需经验值} = \text{当前等级} \times 1000 \]
    例如，从1级升到2级需要1000点经验值，而从10级升到11级则需要10000点经验值。
*   **升级奖励**: 每次成功升级，系统都会根据新等级给予一笔可观的 JCD 现金奖励，奖励公式为：
    \[ \text{升级奖励} = \text{新等级} \times 500 \]

### 3.3. 交易引擎：市场的脉搏

交易引擎是整个模拟器的核心，它负责处理所有玩家的交易指令，并与市场数据交互，模拟一个真实、动态、高效的交易环境。

#### 3.3.1. 市场数据管理 (`market_data.py`)

所有交易都基于市场数据。市场数据管理器负责加载和实时更新所有资产的价格。其价格更新逻辑是游戏真实性的关键：

1.  **数据加载**: 从 `/data/` 目录下的 `all_stocks.json`, `market_events.json` 等文件加载基础数据。
2.  **复杂的价格更新模型**: 股票价格的每一次"跳动"都由多个因素叠加决定：
    *   **基础波动**: `股价 × (1 ± 股票自身波动率)`
    *   **市场情绪**: 根据最近1小时内发生的正面/负面"市场事件"，计算出整体市场的乐观或悲观情绪，对所有股票产生同向影响。
    *   **特定事件冲击**: 特定的新闻事件（如某科技公司发布革命性产品）会直接、大幅度地影响相关行业或个别公司的股价。
    *   **贝塔系数 (Beta)**: 每只股票的 Beta 值决定了它相对于市场整体波动的敏感度。高 Beta 股票波动更剧烈。
    *   **安全阀**: 为了防止价格失控，单次更新的最大波幅被限制在10%以内，并且股价不会跌破1 JCD。
3.  **后台更新**: 价格更新在一个独立的后台线程中运行，确保了游戏的实时性和主程序的流畅性。

#### 3.3.2. 订单类型与执行 (`trading_engine.py`)

交易引擎支持丰富的订单类型，以满足不同投资策略的需求：

*   **市价单 (Market Order)**: 以当前最优市场价格立即执行买入或卖出。这是最基本、最快速的订单类型。
*   **限价单 (Limit Order)**: 预设一个期望的买入价（必须低于当前价）或卖出价（必须高于当前价）。订单会进入"挂单"状态，只有当市场价格达到或优于您的设定价格时，订单才会被执行。
*   **止损单 (Stop-Loss Order)**: 为您持有的仓位预设一个卖出价格。当市场价格下跌到您的止损价时，会自动触发一个市价卖单，以防止亏损进一步扩大。
*   **止盈单 (Take-Profit Order)**: 为您持有的仓位预设一个卖出价格。当市场价格上涨到您的止盈价时，会自动触发一个市价卖单，以锁定利润。

#### 3.3.3. 真实性模拟

为了最大限度地贴近真实市场，交易引擎还内置了以下机制：

*   **交易手续费**: 任何买入或卖出操作，都会被收取 **成交总额的 0.1%** 作为手续费。这是交易中不可忽视的成本。
*   **滑点 (Slippage)**: 当您执行大额的市价订单时，可能会遇到"滑点"。即最终成交价格会略微偏离您下单时看到的价格。这是对市场"深度"的模拟，订单量越大，滑点可能越明显。
    *   *滑点计算公式: `滑点百分比 = 0.0005 × (订单数量 / 1000)`*
*   **做空机制 (Short Selling)**: 引擎完整支持做空。您可以"借入"您不持有的股票并卖出，期待其价格下跌后以更低的价格买回并"归还"，从而赚取差价。
*   **挂单处理**: 系统会周期性地检查所有玩家的挂单（限价、止损、止盈）。一旦市场价格满足触发条件，交易引擎会自动为您执行交易，即使您已下线。

---

## 第四章：商品帝国：大宗商品交易

除了股票市场，游戏还提供了一个庞大而复杂的大宗商品交易市场。在这里，您可以涉足外汇、期货和现货三大领域，体验全球宏观经济的脉动。本章将为您揭开商品帝国的神秘面纱。

### 4.1. 市场概览与核心机制

#### 4.1.1. 统一的市场入口

所有大宗商品的交易都由 `CommodityManager` 统一管理。您可以通过 `commodity` 或 `cmd` 等相关指令进入商品交易界面。

#### 4.1.2. 计价与货币转换

这是一个非常重要的核心机制：
*   **内部计价货币**: 所有大宗商品（包括外汇、期货、现货）的国际价格都以 **美元 (USD)** 作为基准进行计价和更新。
*   **玩家账户货币**: 玩家的资金、盈亏、保证金等均以游戏的基础货币 **JCD** 进行结算。
*   **固定汇率**: 系统内置了一个固定的转换汇率： **1 USD = 7.14 JCD**。
    *   这意味着，当您交易商品时，系统会实时地将美元计价的保证金、盈亏等换算成JCD，从您的账户中扣除或增加。

#### 4.1.3. 交易指令

*   **概览**: `cmd overview` - 查看各类商品的涨跌统计。
*   **列表**: `cmd list <forex|futures|spot>` - 列出特定类型的可交易商品。
*   **买入**: `cmd buy <商品代码> <数量> [leverage=杠杆倍数]`
*   **卖出**: `cmd sell <商品代码> <数量>` - 平掉您的多头仓位。
*   **做空**: `cmd short <商品代码> <数量> [leverage=杠杆倍数]`
*   **平仓**: `cmd cover <商品代码> <数量>` - 平掉您的空头仓位。
*   **持仓**: `cmd positions` - 查看您当前所有的商品持仓和浮动盈亏。

---

### 4.2. 外汇市场 (Forex)

外汇市场是全球流动性最高、交易最活跃的市场。在这里，您可以对不同国家货币的汇率进行投机。

#### 4.2.1. 核心特性

*   **高杠杆**: 外汇交易的核心是杠杆。系统默认提供高达 **100倍** 的杠杆，让您可以用少量保证金控制大额的货币头寸。
*   **点差 (Spread)**: 您会注意到买入价(Ask)和卖出价(Bid)之间存在一个微小的差距，这就是点差，也是交易的主要成本之一。
*   **隔夜利息 (Swap)**: 如果您持仓过夜（跨越服务器结算时间），系统会根据您持仓的方向（多/空）和不同货币对的利率差，收取或支付给您一笔隔夜利息。
*   **24小时交易**: 外汇市场在工作日（周一至周五）24小时不间断交易。

#### 4.2.2. 模拟交易时段

游戏的一大特色是模拟了全球主要金融中心的交易时段，并以此动态调整市场的波动率：

| 交易时段 | 北京时间 | 波动率乘数 | 市场状态 |
|:---|:---|:---:|:---|
| 悉尼 | 05:00 - 14:00 | 0.8x | 相对平静 |
| 东京 | 07:00 - 16:00 | 1.0x | 波动温和 |
| 伦敦 | 15:00 - 23:59 | 1.3x | 波动加剧 |
| **伦敦/纽约重叠** | **20:00 - 23:59** | **1.5x** | **波动最剧烈** |
| 纽约 | 20:00 - 05:00 | 1.2x | 持续活跃 |

#### 4.2.3. 可交易品种

*   **JCK 核心对**: `JCKUSD`, `JCKEUR`, `JCKJPY` 等，让您可以直接交易 JCK 相对于世界主要货币的价值。
*   **传统主要对**: `EURUSD`, `GBPUSD`, `USDJPY` 等。
*   **金属对**: `JCKXAU` (JCK对黄金), `JCKXAG` (JCK对白银)，这是一个非常独特的交叉盘。

---

### 4.3. 期货市场 (Futures)

期货是标准化的合约，约定在未来的某个特定日期，以预先确定的价格买入或卖出特定数量的商品或金融资产。

#### 4.3.1. 核心特性

*   **保证金制度**: 与外汇的杠杆不同，期货采用保证金率。例如，一个合约价值100,000 JCD，保证金率为10%，那么您只需要10,000 JCD就可以交易这份合约。
*   **到期日 (Expiry Date)**: 每个期货合约都有一个到期日。越临近到期日，合约的价格会越趋近于其标的资产的现货价格，同时波动率也会相应下降。
*   **每日结算与涨跌停**: 市场会在每日收盘后进行结算，并根据结算价设定第二天的涨停价（通常为+10%）和跌停价（通常为-10%），以控制市场风险。
*   **特定的交易时间**: 期货并非24小时交易，而是分为日盘（9:00-15:00）和夜盘（21:00-次日2:30）。

#### 4.3.2. 可交易品种

游戏提供了覆盖面极广的期货合约：
*   **能源期货**: 原油 (CL), 天然气 (NG) 等。
*   **金属期货**: 黄金 (GC), 白银 (SI), 铜 (HG) 等。
*   **农产品期货**: 玉米 (ZC), 大豆 (ZS), 小麦 (ZW), 咖啡 (KC) 等。
*   **金融期货**: E-mini标普500 (ES), 10年期国债 (ZN) 等股指和利率期货。

---

### 4.4. 现货市场 (Spot)

现货交易的是"真实"的、可以立即或在很短时间内进行实物交割的商品。

#### 4.4.1. 核心特性

*   **供需决定价格**: 现货价格的核心驱动力是**供求关系**。游戏内的每一种现货商品都有独立的库存水平、生产率和消耗率。当"供不应求"时，价格上涨压力增大，反之亦然。这是现货市场最真实的模拟。
*   **持有成本 (Storage Cost)**: 只要您持有现货仓位，就需要每日支付一笔仓储费用。这个成本会轻微地推高现货的持有价格。
*   **物理属性**: 游戏细致地模拟了现货的物理属性，包括**交易单位**（盎司/桶/磅）、**质量等级**、**交割地点**等，极大地增强了代入感。
*   **保证金**: 现货交易通常要求较高的保证金（即较低的杠杆），因为其更接近于实物所有权的转移。

#### 4.4.2. 可交易品种

*   **贵金属**: 现货黄金(XAUUSD_SPOT), 现货白银(XAGUSD_SPOT) 等。
*   **能源**: 现货WTI原油(WTI_SPOT), 现货布伦特原油(BRENT_SPOT) 等。
*   **工业金属**: 现货铜(COPPER_SPOT), 现货铝(ALUMINUM_SPOT) 等。
*   **农产品**: 现货玉米(CORN_SPOT), 现货咖啡(COFFEE_SPOT) 等。

---

## 第五章：企业王朝：公司经营与股票

在《芯片战争》中，您不仅是资本市场的投机者，更可以成为实体经济的缔造者。公司系统允许您从零开始，创立并经营自己的企业，一步步将其从一家默默无闻的初创公司，发展为能够影响整个市场的上市巨头。

### 5.1. 创立你的第一家公司

当您积累了足够的原始资本和市场经验后，就可以着手创建自己的公司。

#### 5.1.1. 创建条件与流程

*   **启动资金**: 创建公司需要一笔启动资金，金额取决于您选择的行业和初始规模。
*   **创建向导**: 您可以通过 `company create` 指令启动公司创建向导。您需要决定：
    *   **公司名称**: 一个响亮的名字是成功的一半。
    *   **选择行业**: 游戏内置了科技、金融、医疗、能源、制造等十多个行业，不同行业的初始门槛、发展潜力和盈利模式各不相同。
    *   **公司描述**: 为您的公司撰写一个简单的介绍。

#### 5.1.2. 公司的基本构成

一家新创立的公司，会拥有以下初始属性：
*   **公司ID与股票代码**: 系统会自动为您生成一个唯一的公司ID和一个临时的、未上市的股票代码。
*   **独立的法人实体**: 您的公司是一个独立的实体，拥有自己的**公司现金账户**。您需要从个人账户向公司**注资 (`invest`)**，公司才能进行后续的运营活动。
*   **初始经营指标 (`BusinessMetrics`)**: 包含收入、利润、资产、负债等一系列初始值为零的财务数据。

### 5.2. 公司类型与发展阶段

您的公司将会经历不同的类型和发展阶段，这是一个动态演变的过程。

#### 5.2.1. 公司类型 (`CompanyType`)

*   **初创公司 (Startup)**: 所有新创建的公司都始于此。
*   **私人公司 (Private)**: 经过初步发展，有了一定规模但未上市的公司。
*   **上市公司 (Public)**: 公司通过了IPO审核，其股票可以在公开市场自由交易。这是所有企业家的终极目标。
*   **其他类型**: 游戏中还存在国有企业、外资企业等由系统生成的公司类型。

#### 5.2.2. 公司发展阶段 (`CompanyStage`)

公司的发展阶段决定了其运营的重心和面临的挑战：
*   **种子期 (Seed)**: 专注于概念验证和原型开发。
*   **初创期 (Startup)**: 核心任务是产品开发和市场切入。
*   **成长期 (Growth)**: 业务模式得到验证，开始快速扩张市场份额。
*   **成熟期 (Mature)**: 增长放缓，运营重点转向盈利能力和效率优化。
*   **衰退期 (Declining)**: 面临市场萎缩或被新技术替代的风险。

### 5.3. 公司运营深度解析

公司的价值并非一成不变，需要您通过持续的、战略性的运营来提升。您可以通过 `company operate <公司ID> <操作>` 来执行运营决策。

#### 5.3.1. 核心运营机制

*   **玩家注资**: 所有运营活动都需要消耗资金。这些资金**必须由玩家从个人账户中扣除**并投入到公司，而不是直接消耗公司账上的钱。这模拟了企业家对公司的持续投资。
*   **成功与失败**: 任何运营决策都存在风险，并非100%成功。其成功率与公司的**业绩评分 (`performance_score`)**正相关。一次失败的决策同样会消耗您的资金。
*   **冷却时间**: 为模拟决策周期，每项运营操作都有独立的冷却时间（数小时到数天不等）。

#### 5.3.2. 运营决策选项

您可以在多个维度上对公司进行投资和发展：

| 操作类型 | 指令 | 核心作用 | 备注 |
|:---|:---|:---|:---|
| **研发投入** | `research` | 提升技术实力，影响**增长率**和**营收**。 | 有几率直接产出"技术突破"类新闻。 |
| **市场营销** | `marketing` | 扩大**市场份额**和品牌知名度。 | 成本和效果受所在行业影响。 |
| **业务扩张** | `expansion` | 直接增加公司的**营收**和**资产**规模。 | 需要投入大量资金，风险较高。 |
| **效率优化** | `efficiency` | 降低运营成本，提升**利润率**。 | 适合进入成熟期的公司。 |
| **技术升级** | `technology`| 提升**增长率**和**业绩评分**。 | 类似于研发，但更侧重于应用层面。 |
| **人才培养** | `talent` | 提升**业绩评分**，并间接影响所有指标。 | 详见下方的人力资源系统。 |
| **品牌建设**| `brand` | 提升**业绩评分**和**市场份额**。 | 长期投资，效果缓慢但持久。 |
| **创新研发** | `innovation`| 高风险高回报，有几率带来**颠覆性产品**。 | 失败率高，但成功回报巨大。 |

#### 5.3.3. 人力资源(HR)系统

游戏内置了一个极其详尽的HR系统，员工是公司的宝贵资产：
*   **招聘**: 您可以为公司招聘不同职位的员工。系统会生成拥有不同能力（表现、经验、领导力）、薪资要求和潜在风险的虚拟候选人供您挑选。
*   **批量扩张**: 您可以投入一笔预算，根据公司规模和需求，一次性**批量招聘**数十名员工，实现快速扩张。
*   **薪酬体系**: 您需要每月从**公司账户**的现金中为所有员工支付薪水。若公司现金不足，将无法支付薪酬，并可能导致员工**主动离职**。
*   **解雇与流失**: 您可以主动解雇员工（需要支付一笔遣散费），同时，如果公司业绩不佳或现金流紧张，也会有员工选择**自然流失**。

### 5.4. 公司股票与市场

当您的公司发展到一定规模（例如，年收入超过1亿，员工数超过200人，且已实现盈利），就可以申请**首次公开募股 (Initial Public Offering, IPO)**。

#### 5.4.1. 从私有到公开

*   **IPO流程**: 通过 `company ipo <公司ID>` 指令申请上市。您需要设定**发行价**和**发行股数**。
*   **募资**: IPO成功后，公司将募集到一笔巨额资金（`发行价 × 发行股数`），这笔钱会直接进入您的**公司现金账户**，用于未来的发展。
*   **公开交易**: IPO完成后，您的公司股票将正式进入主股票市场，其股票代码会出现在 `list` 指令中，所有游戏玩家都可以自由买卖。

#### 5.4.2. 上市公司股价更新机制

上市公司的股价由一套独立的、复杂的模型驱动，该模型在独立的线程中每30秒更新一次：

*   **股价 = 旧股价 × (1 + 综合变动因子)**
*   **综合变动因子** 是由以下几个加权部分构成：
    *   **基本面 (30%权重)**: 由公司的**净资产收益率(ROE)**、**成长率**和**负债率**决定。健康的财务状况是股价的压舱石。
    *   **新闻事件 (25%权重)**: 公司在过去24小时内发布的正面或负面新闻，会直接影响股价。
    *   **市场情绪 (20%权重)**: 基于公司的综合**业绩评分**。评分高的公司更容易吸引投资者。
    *   **技术面 (15%权重)**: 基于股价的移动平均线，模拟超买回调和超卖反弹。
    *   **随机波动 (10%权重)**: 模拟市场的随机性。
*   **数据同步**: 更新后的股价、市值、市盈率等数据，会实时同步到主市场的数据库中，确保所有玩家看到的是一致的信息。

这意味着，您作为公司的经营者，您每一次成功的运营决策、每一次亮眼的财报、每一次正面的新闻，都会最终转化为股价的上涨，为您带来丰厚的回报。

---

## 第六章：金融中枢：银行与信贷

"JackyCoin股票交易模拟器"中的金融系统是游戏经济的核心支柱之一，它为玩家提供了资本积累、杠杆投资和风险管理的工具。与现实世界类似，银行在游戏中扮演着至关重要的角色。

### 6.1 多银行生态系统 (Multi-Bank Ecosystem)

游戏内设有一个由多种不同类型银行组成的复杂生态系统，每种银行提供独特的服务和产品，以满足玩家在不同发展阶段的需求。

- **商业银行 (Commercial Banks):** 提供基本的存贷款、转账和支付服务。它们是玩家早期获取启动资金和管理日常现金流的主要渠道。
- **投资银行 (Investment Banks):** 专注于企业融资、并购和资产管理。当玩家的公司发展到一定规模，需要进行IPO或大规模资本运作时，投资银行将是不可或缺的合作伙伴。
- **私人银行 (Private Banks):** 为高净值客户提供定制化的财富管理、信托和遗产规划服务。与私人银行建立良好关系是顶级玩家实现资产保值增值和跨代传承的关键。
- **中央银行 (Central Bank):** 游戏中的宏观经济调控机构，虽然玩家不直接与其交互，但其利率政策和货币供应量决策会深刻影响整个市场的流动性和资产价格。

### 6.2 银行关系与信誉 (Bank Relationships and Reputation)

玩家与每家银行的关系都是独立计算和培养的。通过与特定银行进行业务往来（如存款、贷款、完成任务），可以提升在该银行的"关系等级"和"信誉积分"。

- **关系等级 (Relationship Level):** 解锁更高级别的金融产品和服务。例如，更高的关系等级可能让你获得更高的存款利率、更低的贷款利率、更大的授信额度或更复杂的投资工具。
- **信誉积分 (Reputation Score):** 影响交易的成功率和条款。例如，在申请大额贷款或进行复杂交易时，高信誉分可以作为重要的议价筹码。

### 6.3 全球信用评分系统 (Global Credit Score System)

除了与单一银行的关系外，每个玩家还有一个全局的信用评分。该评分由`credit_system.py`模块动态计算，是玩家整体财务健康状况的综合体现。

**信用分计算权重:**

| 因素 (Factor) | 权重 (Weight) | 描述 (Description) |
| --- | --- | --- |
| **总资产 (Total Assets)** | 35% | 玩家持有的所有流动和非流动资产的总价值。 |
| **盈利能力 (Profitability)** | 30% | 近期交易和投资的平均回报率。 |
| **贷款历史 (Loan History)** | 20% | 是否有逾期还款记录，以及当前的负债水平。 |
| **交易活跃度 (Trading Activity)**| 15% | 玩家在市场上的交易频率和规模。 |

高信用分会带来一系列全局性的优势，例如在所有银行都能享受一定程度的利率优惠，更容易通过贷款审批，甚至在某些社交场合获得额外的声望。

### 6.4 银行任务系统 (Bank Task System)

为了引导玩家熟悉并充分利用银行系统，游戏设计了丰富的银行任务。这些任务由`task_system.py`模块管理。

- **任务类型:** 任务多种多样，从简单的"首次存款"到复杂的"成功执行一次杠杆收购"。
- **任务目标:** 旨在帮助玩家逐步解锁和掌握各种金融工具。
- **任务奖励:** 完成任务不仅能获得JCD、经验值等常规奖励，更重要的是能够显著提升在该银行的关系等级和信誉积分，是玩家在金融领域快速成长的主要途径。

通过深度参与银行系统，玩家不仅能为自己的交易帝国获取必要的资金支持，更能体验到现代金融市场的复杂与魅力。

## 第七章：应用生态 (Chapter 7: Application Ecosystem)

为了进一步增强游戏的可玩性和策略深度，《芯片战争》内置了一个功能强大的"应用市场" (App Market)。玩家可以花费JCD购买各种应用程序，这些应用分为两大类：专业的"分析工具"和轻松的"娱乐游戏"。

### 7.1 分析工具类应用 (Analysis Tool Apps)

这类应用旨在为玩家提供强大的数据支持和决策辅助，帮助他们更科学地进行投资。

#### 7.1.1 📈 高级图表分析 (Advanced Chart)

- **价格:** 20,000 JCD
- **简介:** 这是游戏中最专业的图表工具，为希望进行深度技术分析的玩家量身打造。它在一个独立的GUI窗口中运行，提供了堪比真实交易软件的体验。
- **核心功能:**
    - **多图表类型:** 支持K线图、线形图、成交量图和纯技术指标图。
    - **丰富的技术指标:** 内置了移动平均线(MA)、布林带(BOLL)、平滑异同移动平均线(MACD)、相对强弱指数(RSI)和随机指标(KDJ)等核心指标。
    - **交互式操作:** 玩家可以自由缩放、平移图表，切换不同的股票代码和时间周期（从1天到1年）。
    - **实时更新与保存:** 图表数据会实时更新，并支持将分析结果保存为图片。
    - **智能分析:** 提供一个"技术分析"摘要功能，自动解读当前图表形态。

#### 7.1.2 🤖 AI股票分析 (AI Stock Analysis)

- **价格:** 15,000 JCD
- **简介:** 对于希望快速了解一只股票的玩家，这款应用提供了由"AI"驱动的深度分析报告。它通过复杂的算法（模拟）对股票进行全方位评估。
- **核心功能:**
    - **综合评分系统:** 从技术面、基本面、市场情绪和风险四个维度为股票打分，并给出一个综合总分。
    - **明确的投资建议:** 基于综合评分，直接给出"强烈买入"、"持有观望"、"建议卖出"等简单直接的操作建议。
    - **关键数据分析:** 报告中包含了支撑位/阻力位预测、估值水平判断（偏高/合理/偏低）、风险等级评估等关键信息。
    - **一键式报告:** 无需复杂的参数设置，输入股票代码即可获得一份详尽的分析报告。

#### 7.1.3 📰 新闻分析器 (News Analyzer)

- **价格:** 12,000 JCD
- **简介:** 投资不仅要看图表和数据，更要理解市场背后的宏观动态。新闻分析器专注于解读市场新闻和情绪，帮助玩家把握大势。
- **核心功能:**
    - **每日市场要闻:** 生成一份日报，分析当天热点新闻对市场和特定板块的利好或利空影响。
    - **市场情绪分析:** 提供一个量化的"市场情绪指数"，并判断市场当前处于乐观、中性还是悲观状态。
    - **重大事件驱动分析:** 专门分析如"央行降息"等重大事件可能带来的投资机会或风险。

### 7.2 娱乐城应用 (Entertainment & Casino Apps)

在紧张的交易之余，玩家也可以到娱乐城中放松一下，用少量资金试试运气。这类应用提供了多种经典的博彩游戏。

#### 7.2.1 🃏 21点大师 (Blackjack)

- **价格:** 6,000 JCD
- **简介:** 经典的21点扑克游戏。
- **玩法:**
    - 玩家与庄家对战，目标是让手牌点数尽可能接近21点但又不超过。
    - 游戏流程被简化，玩家和庄家都遵循固定策略（小于17点自动要牌），实现了快节奏的游戏体验。
    - 玩家可以自由下注（有上限），根据输赢和牌型（如自然21点）获得不同的赔率。
    - 应用会自动记录玩家的总投注、总盈亏和胜率等数据。

#### 7.2.2 其他娱乐应用

除了21点，应用市场还提供了其他多种多样的娱乐和博彩游戏，包括：

- **德州扑克 (Texas Hold'em)**
- **轮盘 (Roulette)**
- **老虎机 (Slot Machine)**
- **骰宝 (Sic Bo)**
- **赛马 (Horse Racing)**
- **掷骰子 (Dice)**

这些游戏都遵循着类似的模式：玩家投入JCD进行博弈，胜负由概率决定，旨在为玩家的财富管理带来更多的不确定性和乐趣。

## 第八章：管理员指南 (Chapter 8: Administrator Guide)

本章节为游戏管理员提供操作指南。管理员拥有强大的后台权限，可以维护游戏世界的正常秩序、处理异常情况、以及组织游戏内活动。

### 8.1 如何进入管理员模式

1.  在主命令界面输入 `sudo` 或 `admin` 指令。
2.  系统会提示您输入管理员密码。
3.  默认密码为 `admin`。
4.  成功验证后，命令提示符会变为 `admin@stock-sim:~#`，表示您已进入管理员模式。
5.  在管理员模式下，所有命令都需要以 `sudo` 为前缀。例如: `sudo user list`。
6.  要退出管理员模式，请输入 `exit_admin`。

### 8.2 用户管理 (User Management)

管理员可以对玩家账户进行全面的管理。

-   `sudo user list`: 查看当前所有注册用户的列表，包括他们的资金、资产、等级等关键信息。
-   `sudo user info <用户名>`: 获取指定用户的详细信息，包括完整的投资组合和交易历史。
-   `sudo user cash <用户名> <金额>`: 直接修改用户的现金余额。金额可为正数（增加）或负数（减少）。
-   `sudo user level <用户名> <等级>`: 修改用户的等级。
-   `sudo user exp <用户名> <经验值>`: 修改用户的经验值。
-   `sudo user credit <用户名> <信用等级>`: 修改用户的银行信用等级（例如: 'AAA', 'B', 'C'）。
-   `sudo user reset <用户名>`: 重置用户的游戏数据。此操作会清空该玩家的资产、成就和历史记录，将其恢复到初始状态，但会保留其账户。
-   `sudo user ban <用户名>`: 封禁用户，使其无法登录游戏。
-   `sudo user unban <用户名>`: 解封用户。

### 8.3 市场管理 (Market Management)

管理员是市场规则的维护者，可以调控股票和市场环境。

-   `sudo stock add <代码> <名称> <价格> <行业>`: 向市场中添加一只全新的股票。
-   `sudo stock remove <代码>`: 从市场中移除一只股票。
    - **重要提示:** 执行此操作时，系统会自动清算所有玩家持有的该股票，将等值的JCD返还到他们的现金账户。
-   `sudo stock price <代码> <价格>`: 强行修改某只股票的当前价格。
-   `sudo stock volatility <代码> <波动率>`: 修改股票的波动率，从而影响其价格波动的剧烈程度。
-   `sudo stock info <代码>`: 查看某只股票的详细后台数据。
-   `sudo stock list`: 列出当前市场中所有的股票。
-   `sudo system event <事件内容>`: 创建一条新的市场事件/新闻。这条新闻会出现在玩家的视野中，并根据其内容影响市场情绪指数，从而间接影响所有股票的价格走势。

### 8.4 银行与系统管理 (Bank & System Management)

-   `sudo bank rates loan <利率>`: 修改全局的贷款基准利率。
-   `sudo bank rates deposit <利率>`: 修改全局的存款基准利率。
-   `sudo bank loan <用户名> <金额> [天数]`: 为指定用户强制发放一笔贷款。
-   `sudo bank forgive <用户名> <贷款ID>`: 免除用户的某笔特定贷款。
-   `sudo system reset market`: 重置整个市场的价格，通常用于修复灾难性的市场崩溃或进行新一轮游戏。
-   `sudo system backup`: 手动触发一次系统数据备份。系统会自动备份用户数据、市场数据等核心文件。
-   `sudo system maintenance <on/off>`: 开启或关闭服务器维护模式。在维护模式下，普通玩家将无法登录。

## 第九章：经济学原理与游戏逻辑 (Chapter 9: Economic Principles & Game Logic)

本章将深入探讨《芯片战争》背后的经济学模型和核心算法，帮助玩家理解市场运作的深层逻辑，从而做出更明智的决策。

### 9.1 价格波动模型 (Price Fluctuation Model)

游戏中的资产价格并非完全随机，而是由一个复杂的多因素模型驱动，该模型模拟了真实世界金融市场的行为。

#### 9.1.1 股票价格更新 (`core/market_data.py`)

每只股票的价格更新都综合了以下几个核心因素：

1.  **基础波动率 (Base Volatility):** 每只股票都有一个固有的`volatility`属性，它决定了价格在不受任何外部影响时的基础随机波动幅度。这是价格变化的核心引擎。
2.  **市场情绪 (Market Sentiment):** 系统会追踪近期发生的"市场事件"（由管理员创建或随机生成），并计算出一个全局的"市场情绪指数"。乐观情绪会给所有股票带来普遍的上涨压力，而悲观情绪则相反。
3.  **贝塔系数 (Beta):** 每只股票都有一个`beta`值，代表了它与整个市场（由市场情绪指数代表）的相关性。
    -   `Beta > 1`: 该股票比市场更敏感，波动更剧烈（例如科技股）。
    -   `Beta < 1`: 该股票是防御性的，波动比市场平缓（例如公用事业股）。
4.  **特定事件冲击 (Event Shocks):** 某些新闻事件会直接影响特定行业或公司，导致其股价在短期内急剧偏离基础模型。

**最终价格公式（简化）:**
\[ \Delta P = P \times (\mathcal{N}(0, \text{volatility}) + \beta \times \text{MarketSentiment}) + \text{EventShock} \]
其中 \(\mathcal{N}\) 代表正态分布的随机数。

#### 9.1.2 大宗商品价格更新

-   **外汇 (`commodities/forex.py`):** 汇率的波动同样基于其自身的波动率，但在特定时间段（如模拟的"纽约时段"、"东京时段"）波动会加剧，模拟了真实外汇市场的24小时特性。
-   **现货 (`commodities/spot_commodities.py`):** 现货价格模型独一无二，引入了明确的**供需机制**。玩家的买卖行为会直接增减市场上该商品的"库存"，当库存过低时价格上涨，库存过高时价格下跌，形成了一个动态的负反馈循环。

### 9.2 公司价值与股价 (`company/jc_stock_updater.py`)

对于玩家自己创建并上市的公司，其股价模型更为复杂，引入了**基本面分析**的逻辑：

1.  **公司健康度 (Company Health):** 综合了公司的现金流、利润、研发投入、市场份额等多个指标，计算出一个"公司健康度"评分。
2.  **运营决策影响:** 玩家作为董事长进行的每一次"公司运营"（如投资研发、市场营销），其成功或失败都会直接影响公司的健康度。
3.  **股价锚定:** 公司股价会以其"内在价值"（由公司健康度决定）为锚点进行波动。一家经营良好、持续盈利的公司，其股价拥有坚实的上涨基础。反之，一家濒临破产的公司，其股价会不可避免地趋向归零。

### 9.3 游戏内通货膨胀与紧缩 (Inflation & Deflation)

游戏中的总货币供应量（JCD M2）是动态变化的，这使得通货膨胀和紧缩成为可能。

-   **货币创造 (通胀来源):**
    -   **银行贷款:** 这是最主要的货币创造方式。玩家从银行贷款，会将新的货币注入市场。
    -   **系统奖励:** 新手初始资金、任务奖励、成就奖励等。
    -   **NPC行为:** 模拟的NPC交易行为也会在宏观上影响货币供给。

-   **货币销毁 (通缩来源):**
    -   **偿还贷款:** 玩家归还贷款本金和利息是货币销毁的主要途径。
    -   **交易费用:** 每次交易支付的手续费会被系统"燃烧"掉。
    -   **购买消耗品:** 购买应用、支付公司运营成本等。

管理员可以通过调整银行的基准利率来间接调控市场的货币供应量。降低利率会鼓励贷款，增加货币供应，可能导致通胀；提高利率则会抑制贷款，减少货币供应，可能导致通缩。这为玩家提供了一个需要时刻关注的宏观经济背景。

## 第十章：未来开发路线图 (Chapter 10: Future Development Roadmap)

《芯片战争》是一个持续进化的项目。开发团队对游戏的未来有着清晰的规划，旨在不断丰富游戏内容，提升技术水平，为玩家带来更极致的体验。以下是项目未来的开发路线图。

### 10.1 近期规划 (1-3个月)

-   **丰富交易品种:**
    -   **期权交易:** 引入看涨期权和看跌期权，提供更多样的风险管理和投机工具。
    -   **数字货币:** 上线比特币、以太坊等主流加密货币的模拟交易。
-   **社交功能上线:**
    -   **好友系统:** 允许玩家添加好友，并查看对方的（经允许的）投资组合。
    -   **聊天室与竞赛:** 内置实时聊天频道和定期举办的投资回报率竞赛，增强社区互动性。
    -   **策略分享:** 玩家可以保存和分享自己的交易策略。

### 10.2 中期规划 (3-6个月)

-   **高级交易工具:**
    -   **算法交易:** 允许玩家使用简单的脚本语言自定义和执行交易算法。
    -   **投资组合优化:** 基于马科维茨理论，为玩家提供优化其资产配置的建议。
-   **内置教育系统:**
    -   **交易课程:** 新增一系列从入门到高级的结构化交易课程。
    -   **导师系统:** 引入AI导师，根据玩家的交易行为提供个性化的指导和学习建议。
-   **跨平台支持:**
    -   **Web版本:** 开发一个基于浏览器的版本，让玩家可以随时随地访问。
    -   **移动端:** 启动原生移动应用（iOS/Android）的开发。

### 10.3 远期规划 (6个月以上)

-   **深度人工智能集成:**
    -   **智能投顾:** 提供由AI驱动的、接近真人服务的智能投资顾问。
    -   **自然语言交易:** 支持通过自然语言（文字或语音）来执行交易指令。
-   **区块链与NFT:**
    -   **NFT资产:** 引入基于NFT的独特收藏品或资产作为新的投资类别。
    -   **DeFi模拟:** 模拟去中心化金融产品，如流动性挖矿、质押借贷等。
-   **大数据与API:**
    -   **API开放:** 向社区开发者开放部分数据和交易API，允许第三方工具的集成。
    -   **真实数据对接:** 在特定模式下，尝试接入真实的（延迟的）市场数据流。